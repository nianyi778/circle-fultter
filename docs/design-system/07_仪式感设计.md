# Aura 拾光 · 仪式感设计

> 仪式感是让平凡动作变得有意义的魔法。
> 在 Aura 中，每一个重要时刻都应该被 **郑重地对待**。

---

## 一、仪式感设计原则

### 1.1 核心理念

```
郑重的    而不是 随意的
缓慢的    而不是 急促的
完整的    而不是 碎片的
有回响的  而不是 转瞬即逝的
```

### 1.2 何时需要仪式感

| 场景 | 仪式感强度 | 原因 |
|------|-----------|------|
| 发布第一条记录 | 高 | 开启旅程 |
| 封存年度信 | 最高 | 一年一次的时间锚点 |
| 信件解锁 | 最高 | 时间的馈赠 |
| 普通发布"留下" | 中 | 日常的小仪式 |
| 收藏/共鸣 | 低 | 轻量互动 |
| 设置保存 | 无 | 功能性操作 |

### 1.3 仪式感构成要素

```
时间延长    比普通操作慢 2-3 倍
动作完整    有开始、过程、结束
视觉焦点    聚焦于核心内容
文案配合    温暖、有意义的文字
反馈充分    多感官（视觉 + 触觉）
留白停顿    给用户消化的时间
```

---

## 二、发布「留下」仪式

### 2.1 场景定义

> 用户完成内容创建，点击"留下"按钮

### 2.2 仪式流程

```
┌─────────────────────────────────┐
│ 1. 按钮响应                      │
│    - 按钮缩放反馈                 │
│    - 触觉反馈 (medium)           │
├─────────────────────────────────┤
│ 2. 内容收起                      │
│    - 编辑区域向下/向内收缩        │
│    - 内容渐隐                    │
│    - duration: 400ms            │
├─────────────────────────────────┤
│ 3. 确认提示                      │
│    - 显示 Toast:                 │
│      "这一刻，已经被你留住了。"   │
│    - 触觉反馈 (success)          │
├─────────────────────────────────┤
│ 4. 页面关闭                      │
│    - 模态页面下滑消失             │
│    - 露出时间线                  │
│    - duration: 300ms            │
├─────────────────────────────────┤
│ 5. 新内容出现                    │
│    - 时间线顶部新增卡片           │
│    - 卡片 fadeIn + slideDown     │
│    - 短暂高亮 (1s)               │
└─────────────────────────────────┘
```

### 2.3 视觉设计

**按钮态**

```dart
正常态:
  背景: warmGray800
  文字: "留下"
  圆角: 20px

按下态:
  scale: 0.95
  duration: 100ms

加载态:
  文字 → 加载指示器
  背景: 保持不变
```

**内容收起动效**

```dart
效果: 内容区域整体缩小 + 下移 + 渐隐
animation:
  - scale: 1.0 → 0.95
  - translateY: 0 → 20px
  - opacity: 1.0 → 0
duration: 400ms
curve: AppCurves.exit
```

**Toast 设计**

```dart
文案: "这一刻，已经被你留住了。"
样式: 深色背景 + 白色文字
图标: ✓ (小勾)
时长: 2.5s
位置: 底部居中
动效: fadeIn + slideUp, 200ms
```

### 2.4 首次发布特殊仪式

**场景**：用户发布第一条记录

**额外元素**

```dart
Toast 文案: "这是你留下的第一刻。旅程开始了。"
时长: 3s (比普通长)
可选: 轻微的庆祝动效（如渐变光效）
```

---

## 三、信件封存仪式

### 3.1 场景定义

> 用户完成年度信书写，点击"封存这一年"

### 3.2 仪式重要性

```
这是产品中仪式感最强的时刻。
一年只会发生一次。
必须让用户感受到"这一年，被我认真对待了"。
```

### 3.3 仪式流程

```
┌─────────────────────────────────┐
│ 1. 点击"封存这一年"             │
│    - 按钮响应                    │
│    - 触觉反馈 (medium)           │
├─────────────────────────────────┤
│ 2. 弹出确认对话框                │
│    - 庄重的确认文案               │
│    - "封存" / "再看看"           │
├─────────────────────────────────┤
│ 3. 确认封存                      │
│    - 对话框消失                  │
│    - 进入封存动画                │
├─────────────────────────────────┤
│ 4. 封存核心动画 (重点)           │
│    - 信纸"折叠"效果              │
│    - 缓慢下落感                  │
│    - 渐渐隐入时间                │
│    - duration: 800-1000ms       │
├─────────────────────────────────┤
│ 5. 封存完成                      │
│    - 显示封存确认                 │
│    - 触觉反馈 (success)          │
│    - 温暖的完成文案               │
├─────────────────────────────────┤
│ 6. 回到信列表                    │
│    - 自动返回信列表页             │
│    - 该信显示"已封存"状态        │
└─────────────────────────────────┘
```

### 3.4 确认对话框设计

```dart
标题: 无（保持简洁庄重）

内容:
  "这一年的你，
   已经写下来了。
   
   封存后不可修改，
   但可以追加后记。"

按钮:
  左: "再看看" (次要)
  右: "封存" (主要)

视觉:
  背景: 白色
  圆角: 24px
  内边距: 32px（比普通对话框大）
  文案居中
  行高: 1.8
```

### 3.5 封存核心动画

**动画描述**

```
整体效果: 信纸被轻轻放入时间盒子

视觉拆解:
1. 信纸内容区域整体
2. 向下缓慢移动 (20-30px)
3. 同时轻微缩小 (scale: 0.95)
4. 透明度降低直至消失
5. 背景出现完成提示
```

**动画参数**

```dart
内容下落:
  translateY: 0 → 30px
  scale: 1.0 → 0.95
  opacity: 1.0 → 0
  duration: 800ms
  curve: Cubic(0.4, 0.0, 0.2, 1.0) // 缓慢开始，自然结束

底部按钮:
  translateY: 0 → 50px
  opacity: 1.0 → 0
  duration: 600ms
  delay: 100ms
```

**Flutter 实现示例**

```dart
void _startSealingAnimation() {
  setState(() => _isSealing = true);
  
  // 1. 内容下落
  _contentController.forward();
  
  // 2. 延迟显示完成提示
  Future.delayed(Duration(milliseconds: 800), () {
    setState(() => _showComplete = true);
    HapticFeedback.mediumImpact();
    
    // 3. 延迟跳转
    Future.delayed(Duration(milliseconds: 1500), () {
      Navigator.pop(context);
      // 显示最终 Toast
      AppSnackbar.success(context, '已封存');
    });
  });
}

// 内容区域动画
AnimatedBuilder(
  animation: _contentController,
  builder: (context, child) {
    return Transform.translate(
      offset: Offset(0, 30 * _contentController.value),
      child: Transform.scale(
        scale: 1.0 - 0.05 * _contentController.value,
        child: Opacity(
          opacity: 1.0 - _contentController.value,
          child: child,
        ),
      ),
    );
  },
  child: _buildContent(),
)
```

### 3.6 封存完成提示

**视觉设计**

```dart
位置: 页面居中
内容:
  - 时间图标或信封图标
  - 主文案: "这一年，已经被你留住了。"
  - 辅助: "2024" (或对应年份)
  
动效: fadeIn, 400ms
停留: 1.5s
```

---

## 四、信件解锁仪式

### 4.1 场景定义

> 用户打开一封时间锁信件，信件到达解锁时间

### 4.2 仪式重要性

```
这是时间的礼物。
用户等待了很长时间。
必须让用户感受到"时间在这一刻兑现了"。
```

### 4.3 仪式流程

```
┌─────────────────────────────────┐
│ 1. 点击已到期的信               │
│    - 显示解锁引导                │
├─────────────────────────────────┤
│ 2. 解锁引导页                   │
│    - "这封信，等了你 X 年"       │
│    - "准备好了吗？"              │
│    - 按钮: "打开"               │
├─────────────────────────────────┤
│ 3. 解锁动画 (核心)              │
│    - 信封打开效果                │
│    - 信纸缓慢展开               │
│    - duration: 1000-1500ms      │
├─────────────────────────────────┤
│ 4. 内容展示                     │
│    - 信件内容逐渐显现            │
│    - 优雅的阅读体验              │
├─────────────────────────────────┤
│ 5. 触觉反馈                     │
│    - 解锁成功 (success)         │
└─────────────────────────────────┘
```

### 4.4 解锁引导页设计

```dart
背景: 温暖渐变 或 米白色
布局: 垂直居中

内容:
  - 信封图标 (大，80px)
  - 主文案: "这封信，等了你 6 年。"
  - 副文案: "准备好了吗？"
  - 按钮: "打开这封信"

动效:
  - 信封轻微呼吸 (scale: 0.98 → 1.02)
  - 文字逐行出现 (交错 200ms)
```

### 4.5 解锁动画设计

**动画描述**

```
模拟信封被打开，信纸抽出并展开的过程。

Phase 1: 信封打开 (0-400ms)
  - 信封盖子向上翻转
  - 或: 信封渐渐透明，露出内容

Phase 2: 信纸展开 (400-1000ms)
  - 内容区域从底部展开
  - 透明度从 0 → 1
  - 可选: 轻微的纸张展开感

Phase 3: 内容显现 (1000-1500ms)
  - 文字逐段出现
  - 或: 整体渐显
```

### 4.6 阅读体验

```dart
背景: 纸张纹理
字体: Serif 字体
字号: 17px
行高: 1.85
对齐: 左对齐
边距: 24px

动效: 
  - 文字从半透明到完全显现
  - 或: 逐行显示 (typewriter 感觉，但要慢)
```

---

## 五、世界频道分享仪式

### 5.1 场景定义

> 用户将私密记录分享到世界频道

### 5.2 仪式意义

```
这是从私密到公开的跨越。
需要用户明确知道"这将被看见"。
仪式感帮助用户慎重决定。
```

### 5.3 仪式流程

```
┌─────────────────────────────────┐
│ 1. 点击"分享到世界"             │
│    - 弹出分享预览                │
├─────────────────────────────────┤
│ 2. 卡片生成预览                 │
│    - 展示脱敏后的卡片效果        │
│    - 选择频道/话题               │
├─────────────────────────────────┤
│ 3. 二次确认                     │
│    - 强调隐私保护                │
│    - "分享" / "再想想"           │
├─────────────────────────────────┤
│ 4. 分享动画                     │
│    - 卡片"飞出"效果              │
│    - duration: 400ms            │
├─────────────────────────────────┤
│ 5. 分享完成                     │
│    - Toast: "已分享到世界"       │
│    - 可选: 查看入口              │
└─────────────────────────────────┘
```

### 5.4 确认文案

```dart
内容:
  "这个片段将被匿名分享。
   不会暴露任何个人信息。
   你可以随时撤回。"

按钮:
  左: "再想想"
  右: "分享"
```

### 5.5 分享动画

```dart
效果: 卡片向上"飞走"，消失在世界中

animation:
  - translateY: 0 → -100px
  - scale: 1.0 → 0.8
  - opacity: 1.0 → 0
  
duration: 400ms
curve: AppCurves.exit
```

---

## 六、首次使用仪式

### 6.1 启动页

**设计原则**

```
不急于展示功能
先建立情感连接
用一句话定调
```

**视觉设计**

```dart
背景: 米白色 + 极淡渐变
中心内容:
  - 品牌标识 (可选)
  - 一句话文案 (随机):
    - "给未来，留下一点现在。"
    - "时间会过去，但你可以留下些什么。"
    - "慢慢来，不着急。"

停留时间: 1.5-2s
过渡: 渐隐到首页
```

### 6.2 首次进入首页

**设计原则**

```
不做教程
用内容本身引导
让用户自然理解
```

**关键元素**

```dart
时间感知区:
  "这是你们的第一个时间圈。"

空状态卡片:
  "留下第一刻"
  + 温暖的引导图
```

### 6.3 首次发布后

**设计原则**

```
庆祝但不夸张
确认但不打断
```

**反馈**

```dart
Toast: "这是你留下的第一刻。旅程开始了。"
时长: 3s
```

---

## 七、年度回顾仪式（可选功能）

### 7.1 场景定义

> 年末或孩子生日时，自动生成年度回顾

### 7.2 仪式流程

```
1. 入口提示
   "你的年度回顾已准备好"

2. 沉浸式回顾
   - 全屏模式
   - 缓慢的翻页体验
   - 精选的记录和统计

3. 情感共鸣点
   - "这一年，你留下了 XX 个瞬间"
   - "最常记录的情绪是：开心"
   - 引用去年的一句话

4. 结束
   - "新的一年，继续留下"
```

---

## 八、仪式感设计检查清单

设计/实现仪式性交互时，对照以下清单：

- [ ] 时长是否足够慢？（至少比普通操作慢 2 倍）
- [ ] 是否有完整的开始、过程、结束？
- [ ] 文案是否温暖、有意义？
- [ ] 是否有多感官反馈？（视觉 + 触觉）
- [ ] 是否给用户留了"消化"的时间？
- [ ] 是否让用户感到"这一刻被认真对待"？

---

## 九、仪式感时长参考

| 仪式类型 | 总时长 | 核心动画时长 |
|---------|--------|-------------|
| 普通发布"留下" | 2-3s | 400ms |
| 信件封存 | 4-5s | 800-1000ms |
| 信件解锁 | 5-7s | 1000-1500ms |
| 世界分享 | 2-3s | 400ms |
| 首次发布 | 3-4s | 400ms + 延长 Toast |

---

> **记住：**
> 仪式不是拖延，而是让瞬间变成永恒。
> 用户在这里，不是在赶时间。
